<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>PRTY - Music</title>
  <link rel="stylesheet" href="css/style.css">
  <style>
    /* Music Page Styles */
    body {
      margin: 0;
      font-family: 'Arial', sans-serif;
      display: flex;
      height: 100vh;
      background: linear-gradient(135deg, #ff5f6d, #ffc371);
      color: #fff;
    }
    .sidebar {
      width: 220px;
      background: #222;
      padding: 20px;
      display: flex;
      flex-direction: column;
      gap: 10px;
    }
    .sidebar h2 { color: #fff; margin-bottom: 20px; }
    .sidebar a {
      color: #fff; text-decoration: none; padding: 8px;
      border-radius: 5px; transition: background 0.2s;
    }
    .sidebar a:hover { background: #444; }
    .main {
      flex: 1; display: flex; flex-direction: row; padding: 20px; gap: 20px;
    }
    .player {
      flex: 1; background: rgba(0,0,0,0.2); border-radius: 15px; padding: 20px;
      display: flex; flex-direction: column; align-items: center; justify-content: center;
      gap: 20px;
    }
    .player img { width: 200px; height: 200px; border-radius: 15px; object-fit: cover; }
    .controls button {
      margin: 0 10px; padding: 10px 20px; font-size: 1rem; border: none;
      border-radius: 10px; cursor: pointer; background: #fff; color: #222;
      transition: transform 0.1s;
    }
    .controls button:hover { transform: scale(1.1); }
    .song-list {
      flex: 1; overflow-y: auto; background: rgba(0,0,0,0.2); border-radius: 15px; padding: 20px;
      display: flex; flex-direction: column; gap: 15px;
    }
    .search-bar {
      margin-bottom: 15px;
    }
    .search-bar input {
      width: 100%; padding: 10px; border-radius: 10px; border: none; font-size: 1rem;
    }
    .card {
      display: flex; align-items: center; gap: 10px; background: rgba(255,255,255,0.1);
      padding: 10px; border-radius: 10px; cursor: pointer; transition: transform 0.1s, background 0.2s;
    }
    .card:hover { transform: scale(1.02); background: rgba(255,255,255,0.2); }
    .card img { width: 50px; height: 50px; border-radius: 5px; object-fit: cover; }
  </style>
</head>
<body>

  <!-- Sidebar -->
  <div class="sidebar">
    <h2>PRTY</h2>
    <a href="index.html">Home</a>
    <a href="games.html">Games</a>
    <a href="movies.html">Movies</a>
    <a href="music.html">Music</a>
    <a href="credits.html">Credits</a>
  </div>

  <!-- Main -->
  <div class="main">
    <!-- Player -->
    <div class="player">
      <h2 id="song-title">Select a Song</h2>
      <img id="album-art" src="images/placeholder.png" alt="Album Art">
      <div class="controls">
        <button id="prev">⏮️</button>
        <button id="play">▶️</button>
        <button id="next">⏭️</button>
      </div>
    </div>

    <!-- Song List -->
    <div class="song-list">
      <div class="search-bar">
        <input type="text" id="search" placeholder="Search Songs...">
      </div>

      <!-- Example Song Cards -->
      <div class="card" data-title="Test Song 1" data-image="images/song1.png" data-audio="">
        <img src="images/song1.png" alt="Song 1">
        <div class="song-title">Song 1</div>
      </div>

      <div class="card" data-title="Song 2" data-image="images/song2.png" data-audio="https://archive.org/download/PRTYSongCollection/song2.mp3">
        <img src="images/song2.png" alt="Song 2">
        <div class="song-title">Song 2</div>
      </div>

      <div class="card" data-title="Song 3" data-image="images/song3.png" data-audio="https://archive.org/download/PRTYSongCollection/song3.mp3">
        <img src="images/song3.png" alt="Song 3">
        <div class="song-title">Song 3</div>
      </div>

      <!-- Add more cards here -->
    </div>
  </div>

  <audio id="audio-player"></audio>

  <script>
    const audio = document.getElementById('audio-player');
    const playBtn = document.getElementById('play');
    const prevBtn = document.getElementById('prev');
    const nextBtn = document.getElementById('next');
    const songTitle = document.getElementById('song-title');
    const albumArt = document.getElementById('album-art');
    const cards = Array.from(document.querySelectorAll('.card'));
    const search = document.getElementById('search');

    let currentIndex = -1;
    let isPlaying = false;

    function loadSong(index) {
      if(index < 0 || index >= cards.length) return;
      currentIndex = index;
      const card = cards[index];
      songTitle.innerText = card.dataset.title;
      albumArt.src = card.dataset.image;
      audio.src = card.dataset.audio;
      audio.play();
      isPlaying = true;
      playBtn.innerText = '⏸️';
    }

    cards.forEach((card, i) => {
      card.addEventListener('click', () => loadSong(i));
    });

    playBtn.addEventListener('click', () => {
      if(!audio.src) return;
      if(isPlaying) { audio.pause(); playBtn.innerText='▶️'; }
      else { audio.play(); playBtn.innerText='⏸️'; }
      isPlaying = !isPlaying;
    });

    prevBtn.addEventListener('click', () => loadSong(currentIndex-1));
    nextBtn.addEventListener('click', () => loadSong(currentIndex+1));

    // Search filter
    search.addEventListener('input', () => {
      const query = search.value.toLowerCase();
      cards.forEach(card => {
        card.style.display = card.dataset.title.toLowerCase().includes(query) ? 'flex' : 'none';
      });
    });
  </script>
</body>
</html>